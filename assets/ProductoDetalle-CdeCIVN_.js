import{_ as V,r as u,c as j,o as R,u as K,a as n,b as o,d as y,e as $,t as b,F as B,f as D,w as E,g as L,h as S,i as k,j as w,k as l,n as T,l as z}from"./index-DOoG741x.js";const A={class:"detalle-producto contenedor animate-fadein"},F={class:"animate-title"},H={key:0,class:"imagenes-galeria"},I=["src","alt","onClick","onKeyup"],P=["innerHTML"],W={class:"modal-content modal-anim"},O={class:"modal-nombre"},U=["src","alt"],q={__name:"ProductoDetalle",setup(G){const C=K(),e=u(null),t=u([]),p="/",d=u(!1),r=u("");function _(a){r.value=a,d.value=!0}function m(){d.value=!1}function M(a){return a.replace(/<script.*?>.*?<\/script>/gi,"").replace(/on\w+="[^"]*"/g,"")}const x=j(()=>{var a;return(a=e.value)!=null&&a.descripcion?M(e.value.descripcion):""});return R(async()=>{try{const a=await fetch("/productos.json");if(!a.ok)throw new Error("No se pudo cargar productos.json");const c=await a.json(),v=decodeURIComponent(C.params.nombre);e.value=c.find(i=>i.nombre===v),e.value&&(Array.isArray(e.value.imagen)?t.value=e.value.imagen:typeof e.value.imagen=="string"?t.value=[e.value.imagen]:t.value=[])}catch(a){console.error("ERROR al cargar productos.json:",a)}}),(a,c)=>{var i,f,g;const v=L("router-link");return l(),n("section",A,[o("h2",F,b((i=e.value)==null?void 0:i.nombre),1),t.value.length?(l(),n("div",H,[(l(!0),n(B,null,D(t.value,(s,h)=>(l(),n("img",{src:w(p)+(s.startsWith("/")?s.substring(1):s),key:h,alt:e.value.nombre,onClick:N=>_(s),class:"img-galeria animate-img",tabindex:"0",onKeyup:k(N=>_(s),["enter"]),style:T(`--delay: ${h*50}ms`)},null,44,I))),128))])):y("",!0),o("div",{class:"descripcion animate-fadein-delay",innerHTML:x.value},null,8,P),$(v,{to:"/catalogo",class:"btn-volver animate-fadein-delay"},{default:E(()=>c[0]||(c[0]=[z("← Volver al catálogo")])),_:1,__:[0]}),d.value?(l(),n("div",{key:1,class:"modal",onClick:S(m,["self"])},[o("span",{class:"cerrar-modal",onClick:m,tabindex:"0",onKeyup:k(m,["enter"])},"×",32),o("div",W,[o("div",O,b((f=e.value)==null?void 0:f.nombre),1),o("img",{src:w(p)+(r.value.startsWith("/")?r.value.substring(1):r.value),class:"modal-img",alt:(g=e.value)==null?void 0:g.nombre},null,8,U)])])):y("",!0)])}}},Q=V(q,[["__scopeId","data-v-8d9a7dfd"]]);export{Q as default};
